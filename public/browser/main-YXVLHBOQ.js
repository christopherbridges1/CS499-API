import{$ as Oe,A as W,B as b,C as _,D as C,E as be,F as z,G as $,H as S,I as y,J as _e,K as Ce,L as ye,M as R,N,O as D,P as Q,Q as Me,R as A,S as U,T as V,U as X,V as Y,W as H,X as Z,Y as we,Z as Se,_ as Pe,a as M,aa as ke,b as P,ba as G,c as T,d as B,e as ge,f as O,g as k,h as fe,i as p,j as he,k as xe,l,m as x,n as f,o as h,p as ve,q as m,r as i,s as r,t as v,u as E,v as c,w as g,x as J,y as o,z as u}from"./chunk-PNFHK3CM.js";var K=class a{constructor(t){this.auth=t}key(){let t=this.auth.user();return t?`favorites:${t.id}`:"favorites:guest"}readSet(){let t=localStorage.getItem(this.key()),e=t?JSON.parse(t):[];return new Set(e)}writeSet(t){localStorage.setItem(this.key(),JSON.stringify(Array.from(t)))}list(){return Array.from(this.readSet())}has(t){return this.readSet().has(t)}toggle(t){let e=this.readSet();return e.has(t)?e.delete(t):e.add(t),this.writeSet(e),e.has(t)}count(){return this.readSet().size}clear(){this.writeSet(new Set)}static \u0275fac=function(e){return new(e||a)(B(A))};static \u0275prov=T({token:a,factory:a.\u0275fac,providedIn:"root"})};var Fe=()=>({exact:!0});function We(a,t){if(a&1&&(i(0,"span",14),o(1),r()),a&2){let e=g();l(),W(" \u2764\uFE0F ",e.fav.count()," ")}}function ze(a,t){a&1&&(i(0,"a",15),o(1,"Login"),r())}function je(a,t){if(a&1){let e=E();i(0,"button",16),c("click",function(){O(e);let d=g();return k(d.auth.logout())}),o(1,"Logout"),r()}}var te=class a{constructor(t,e){this.auth=t;this.fav=e}static \u0275fac=function(e){return new(e||a)(x(A),x(K))};static \u0275cmp=f({type:a,selectors:[["app-customer-header"]],decls:19,vars:6,consts:[[1,"topbar"],[1,"container"],["routerLink","/",1,"brand"],["alt","Grazioso Salvare logo",1,"logo",3,"src"],[1,"brand-text"],[1,"title"],[1,"subtitle"],[1,"nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/browse","routerLinkActive","active"],["routerLink","/admin/login",1,"admin-link"],["class","fav",4,"ngIf"],["class","cta","routerLink","/customer/login",4,"ngIf"],["class","ghost",3,"click",4,"ngIf"],[1,"fav"],["routerLink","/customer/login",1,"cta"],[1,"ghost",3,"click"]],template:function(e,n){e&1&&(i(0,"header",0)(1,"div",1)(2,"a",2),v(3,"img",3),i(4,"div",4)(5,"div",5),o(6,"Grazioso Salvare"),r(),i(7,"div",6),o(8,"Adoption & Rescue"),r()()(),i(9,"nav",7)(10,"a",8),o(11,"Home"),r(),i(12,"a",9),o(13,"Browse"),r(),i(14,"a",10),o(15,"Admin"),r(),h(16,We,2,1,"span",11)(17,ze,2,0,"a",12)(18,je,2,0,"button",13),r()()()),e&2&&(l(3),m("src","/assets/logo.png",he),l(7),m("routerLinkActiveOptions",be(5,Fe)),l(6),m("ngIf",n.auth.isLoggedIn()),l(),m("ngIf",!n.auth.isLoggedIn()),l(),m("ngIf",n.auth.isLoggedIn()))},dependencies:[y,S,D,Q],styles:[".topbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid var(--border)}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:14px 16px;display:flex;align-items:center;justify-content:space-between;gap:16px}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;text-decoration:none}.logo[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;object-fit:contain}.title[_ngcontent-%COMP%]{font-weight:900}.subtitle[_ngcontent-%COMP%]{color:var(--muted);font-size:12px;margin-top:2px}.nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--muted);font-weight:800;padding:8px 10px;border-radius:12px}.nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#1118270d;color:var(--text)}.fav[_ngcontent-%COMP%]{font-weight:900;color:var(--text);background:#1118270d;border:1px solid var(--border);padding:7px 10px;border-radius:999px}a.cta[_ngcontent-%COMP%]{background:var(--accent);color:#fff!important;padding:9px 12px}button.ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border);padding:9px 12px;border-radius:12px;font-weight:900;cursor:pointer;color:var(--text)}.admin-link[_ngcontent-%COMP%]{border:1px solid var(--border);background:#fff;color:var(--muted)}.admin-link[_ngcontent-%COMP%]:hover{color:var(--text);background:#1118270d}"]})};var ne=class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=f({type:a,selectors:[["app-customer-layout"]],decls:4,vars:0,consts:[[1,"page"],[1,"page-container"]],template:function(e,n){e&1&&(v(0,"app-customer-header"),i(1,"main",0)(2,"div",1),v(3,"router-outlet"),r()())},dependencies:[R,te],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:24px 16px}.page-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}"]})};var ie=class a{constructor(t){this.router=t}isLoggedIn=p(localStorage.getItem("isLoggedIn")==="true");login(t,e){return!t?.trim()||!e?.trim()?!1:(localStorage.setItem("isLoggedIn","true"),this.isLoggedIn.set(!0),!0)}logout(){localStorage.removeItem("isLoggedIn"),this.isLoggedIn.set(!1),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||a)(B(N))};static \u0275prov=T({token:a,factory:a.\u0275fac,providedIn:"root"})};function Re(a,t){if(a&1){let e=E();i(0,"button",12),c("click",function(){O(e);let d=g();return k(d.auth.logout())}),o(1," Logout "),r()}}function Ue(a,t){a&1&&(i(0,"a",13),o(1," Login "),r())}var re=class a{constructor(t){this.auth=t}static \u0275fac=function(e){return new(e||a)(x(ie))};static \u0275cmp=f({type:a,selectors:[["app-header"]],decls:16,vars:2,consts:[[1,"topbar"],[1,"container"],["routerLink","/animals",1,"brand"],["src","/assets/logo.png","alt","Grazioso Salvare logo",1,"logo"],[1,"brand-text"],[1,"title"],[1,"pill"],[1,"subtitle"],[1,"nav"],["routerLink","/animals","routerLinkActive","active"],["class","logout",3,"click",4,"ngIf"],["class","login","routerLink","/login",4,"ngIf"],[1,"logout",3,"click"],["routerLink","/login",1,"login"]],template:function(e,n){e&1&&(i(0,"header",0)(1,"div",1)(2,"a",2),v(3,"img",3),i(4,"div",4)(5,"div",5),o(6," Grazioso Salvare "),i(7,"span",6),o(8,"ADMIN"),r()(),i(9,"div",7),o(10,"Animal Shelter Dashboard"),r()()(),i(11,"nav",8)(12,"a",9),o(13,"Animals"),r(),h(14,Re,2,0,"button",10)(15,Ue,2,0,"a",11),r()()()),e&2&&(l(14),m("ngIf",n.auth.isLoggedIn()),l(),m("ngIf",!n.auth.isLoggedIn()))},dependencies:[y,S,D,Q],styles:[".topbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#ffffffd9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid var(--border)}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:12px 16px;display:flex;align-items:center;justify-content:space-between;gap:16px}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;text-decoration:none}.logo[_ngcontent-%COMP%]{width:38px;height:38px;object-fit:contain;border-radius:10px}.brand-text[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:800;letter-spacing:.2px;font-size:15px;line-height:1.1}.brand-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:12px;color:var(--muted);margin-top:2px}.nav[_ngcontent-%COMP%]{display:flex;gap:10px}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--muted);padding:8px 10px;border-radius:12px;transition:background .15s ease,color .15s ease}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#1118270d;color:var(--text)}.nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:var(--accent-weak);color:var(--accent);font-weight:600}.pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-left:8px;padding:3px 8px;border-radius:999px;font-size:11px;font-weight:800;letter-spacing:.6px;background:var(--accent-weak);color:var(--accent)}button.logout[_ngcontent-%COMP%]{padding:8px 10px;border-radius:12px;border:1px solid var(--border);background:transparent;color:var(--muted);cursor:pointer;font-weight:700}a.login[_ngcontent-%COMP%]{text-decoration:none;padding:8px 10px;border-radius:12px;background:var(--accent-weak);color:var(--accent);font-weight:800}"]})};var oe=class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=f({type:a,selectors:[["app-admin-layout"]],decls:4,vars:0,consts:[[1,"page"],[1,"page-container"]],template:function(e,n){e&1&&(v(0,"app-header"),i(1,"main",0)(2,"div",1),v(3,"router-outlet"),r()())},dependencies:[R,re],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:24px 16px}.page-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}"]})};function Ve(a,t){a&1&&(i(0,"a",11),o(1," Customer Login "),r())}function He(a,t){a&1&&(i(0,"a",12),o(1," View Favorites \u2764\uFE0F "),r())}var ae=class a{constructor(t){this.auth=t}static \u0275fac=function(e){return new(e||a)(x(A))};static \u0275cmp=f({type:a,selectors:[["app-home"]],decls:19,vars:2,consts:[[1,"page"],[1,"hero"],[1,"hero-text"],[1,"actions"],["routerLink","/browse",1,"primary"],["routerLink","/customer/login","class","ghost",4,"ngIf"],["routerLink","/browse","class","ghost",4,"ngIf"],[1,"hero-card"],[1,"badge"],[1,"big"],[1,"small"],["routerLink","/customer/login",1,"ghost"],["routerLink","/browse",1,"ghost"]],template:function(e,n){e&1&&(i(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1"),o(4,"Find your next best friend."),r(),i(5,"p"),o(6,"Browse adoptable dogs and save your favorites to review later."),r(),i(7,"div",3)(8,"a",4),o(9,"Browse Dogs"),r(),h(10,Ve,2,0,"a",5)(11,He,2,0,"a",6),r()(),i(12,"div",7)(13,"div",8),o(14,"New"),r(),i(15,"div",9),o(16,"Favorites \u2764\uFE0F"),r(),i(17,"div",10),o(18,"Log in to save dogs you love."),r()()()()),e&2&&(l(10),m("ngIf",!n.auth.isLoggedIn()),l(),m("ngIf",n.auth.isLoggedIn()))},dependencies:[D],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:28px 16px}.hero[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1.5fr 1fr;gap:18px;align-items:start}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:42px;line-height:1.05;letter-spacing:-.8px}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0 0;color:var(--muted);font-size:16px;max-width:560px}.actions[_ngcontent-%COMP%]{margin-top:16px;display:flex;gap:10px}.actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900;border-radius:14px;padding:10px 14px}.actions[_ngcontent-%COMP%]   a.primary[_ngcontent-%COMP%]{background:var(--accent);color:#fff}.actions[_ngcontent-%COMP%]   a.ghost[_ngcontent-%COMP%]{border:1px solid var(--border);background:#fff;color:var(--text)}.hero-card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}.badge[_ngcontent-%COMP%]{display:inline-block;font-weight:900;font-size:12px;padding:6px 10px;border-radius:999px;background:var(--accent-weak);color:var(--accent)}.big[_ngcontent-%COMP%]{margin-top:12px;font-weight:900;font-size:20px}.small[_ngcontent-%COMP%]{margin-top:6px;color:var(--muted)}"]})};function Ge(a,t){if(a&1&&(i(0,"div",8),o(1),r()),a&2){let e=g();l(),u(e.error())}}function Ke(a,t){a&1&&(i(0,"div",9),o(1,"Loading\u2026"),r())}function qe(a,t){if(a&1&&(i(0,"span"),o(1),r()),a&2){let e=g().$implicit;l(),W("\u2022 ",e.ageWeeks," weeks")}}function Je(a,t){a&1&&(i(0,"div",20),o(1," Log in to save favorites. "),r())}function $e(a,t){if(a&1){let e=E();i(0,"article",10)(1,"div",11)(2,"div")(3,"div",12),o(4),r(),i(5,"div",13),o(6),r()(),i(7,"button",14),c("click",function(){let d=O(e).$implicit,s=g();return k(s.toggleFavorite(d._id))}),i(8,"span",15),o(9,"\u2764"),r()()(),i(10,"div",16)(11,"span"),o(12),r(),h(13,qe,2,1,"span",17),r(),i(14,"p",18),o(15),r(),h(16,Je,2,0,"div",19),r()}if(a&2){let e=t.$implicit,n=g();l(4),u(e.name),l(2),u(e.breed),l(),ve("aria-label","Favorite "+e.name),l(),J("on",n.isFav(e._id)),l(4),u(e.sex||"Unknown"),l(),m("ngIf",e.ageWeeks),l(2),u(e.description||"No description provided."),l(),m("ngIf",!n.auth.isLoggedIn())}}var se=class a{constructor(t,e){this.auth=t;this.fav=e;this.load()}query=p("");loading=p(!1);error=p("");dogs=p([]);filtered=z(()=>{let t=this.query().toLowerCase().trim();return t?this.dogs().filter(e=>`${e.name} ${e.breed}`.toLowerCase().includes(t)):this.dogs()});async load(){this.loading.set(!0),this.error.set("");try{let t=await fetch("/api/animals"),e=await t.json().catch(()=>null);if(!t.ok)throw new Error(e?.error||`Failed to load animals (${t.status})`);this.dogs.set(e?.animals||[])}catch(t){this.error.set(t?.message||"Failed to load animals."),this.dogs.set([])}finally{this.loading.set(!1)}}toggleFavorite(t){if(!this.auth.isLoggedIn()){window.location.href="/customer/login";return}this.fav.toggle(t)}isFav(t){return this.auth.isLoggedIn()?this.fav.has(t):!1}favKey(t){return t._id}static \u0275fac=function(e){return new(e||a)(x(A),x(K))};static \u0275cmp=f({type:a,selectors:[["app-browse"]],decls:10,vars:4,consts:[[1,"page"],[1,"container"],[1,"top"],["placeholder","Search by name or breed...",1,"search",3,"input","value"],["class","error",4,"ngIf"],["class","muted",4,"ngIf"],[1,"grid"],["class","card",4,"ngFor","ngForOf"],[1,"error"],[1,"muted"],[1,"card"],[1,"card-top"],[1,"name"],[1,"breed"],["type","button",1,"heart",3,"click"],[1,"heart-icon"],[1,"meta"],[4,"ngIf"],[1,"desc"],["class","hint",4,"ngIf"],[1,"hint"]],template:function(e,n){e&1&&(i(0,"main",0)(1,"div",1)(2,"div",2)(3,"h1"),o(4,"Browse Dogs"),r(),i(5,"input",3),c("input",function(s){return n.query.set(s.target.value)}),r()(),h(6,Ge,2,1,"div",4)(7,Ke,2,0,"div",5),i(8,"div",6),h(9,$e,17,9,"article",7),r()()()),e&2&&(l(5),m("value",n.query()),l(),m("ngIf",n.error()),l(),m("ngIf",n.loading()),l(2),m("ngForOf",n.filtered()))},dependencies:[y,$,S],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:26px 16px}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}.top[_ngcontent-%COMP%]{display:flex;align-items:end;justify-content:space-between;gap:12px;margin-bottom:14px}h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:900}.search[_ngcontent-%COMP%]{width:min(420px,100%);padding:10px 12px;border-radius:14px;border:1px solid var(--border);background:#fff;font-size:14px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}.card-top[_ngcontent-%COMP%]{display:flex;align-items:start;justify-content:space-between;gap:10px}.name[_ngcontent-%COMP%]{font-weight:900;font-size:18px}.breed[_ngcontent-%COMP%]{color:var(--muted);font-weight:800;margin-top:2px}.meta[_ngcontent-%COMP%]{margin-top:8px;color:var(--muted);font-size:12px;font-weight:700}.desc[_ngcontent-%COMP%]{margin:10px 0 0;color:var(--text);opacity:.92;min-height:42px}.heart[_ngcontent-%COMP%]{border:1px solid var(--border);background:#fff;border-radius:12px;width:42px;height:42px;cursor:pointer;display:grid;place-items:center}.heart-icon[_ngcontent-%COMP%]{font-size:18px;color:#11182740}.heart-icon.on[_ngcontent-%COMP%]{color:#ef4444}.hint[_ngcontent-%COMP%]{margin-top:10px;font-size:12px;color:var(--muted);font-weight:700}"]})};function Qe(a,t){if(a&1&&(i(0,"div",11),o(1),r()),a&2){let e=g();l(),u(e.error())}}var le=class a{constructor(t,e){this.auth=t;this.router=e}username="";password="";error=p("");async submit(){this.error.set("");let t=this.username.trim(),e=this.password;if(!t||!e?.trim()){this.error.set("Please enter a username and password.");return}try{if(!await this.auth.login(t,e)){this.error.set("Invalid username or password.");return}this.router.navigate(["/browse"])}catch(n){this.error.set(n?.message||"Login failed.")}}static \u0275fac=function(e){return new(e||a)(x(A),x(N))};static \u0275cmp=f({type:a,selectors:[["app-customer-login"]],decls:23,vars:3,consts:[[1,"page"],[1,"card"],[1,"muted"],[3,"ngSubmit"],[1,"field"],["name","username","placeholder","jane_doe",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",1,"primary"],[1,"footer"],["routerLink","/customer/register"],[1,"error"]],template:function(e,n){e&1&&(i(0,"main",0)(1,"div",1)(2,"h1"),o(3,"Customer Login"),r(),i(4,"p",2),o(5,"Sign in to save your favorite dogs."),r(),i(6,"form",3),c("ngSubmit",function(){return n.submit()}),i(7,"div",4)(8,"label"),o(9,"Username"),r(),i(10,"input",5),C("ngModelChange",function(s){return _(n.username,s)||(n.username=s),s}),r()(),i(11,"div",4)(12,"label"),o(13,"Password"),r(),i(14,"input",6),C("ngModelChange",function(s){return _(n.password,s)||(n.password=s),s}),r()(),h(15,Qe,2,1,"div",7),i(16,"button",8),o(17,"Login"),r(),i(18,"div",9)(19,"span",2),o(20,"New here?"),r(),i(21,"a",10),o(22,"Create an account"),r()()()()()),e&2&&(l(10),b("ngModel",n.username),l(4),b("ngModel",n.password),l(),m("ngIf",n.error()))},dependencies:[y,S,G,Z,U,V,X,H,Y,D],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:26px 16px;display:grid;place-items:start center}.card[_ngcontent-%COMP%]{width:100%;max-width:420px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:20px}h1[_ngcontent-%COMP%]{margin:0 0 6px;font-size:22px;font-weight:900}.muted[_ngcontent-%COMP%]{margin:0 0 14px;color:var(--muted)}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}label[_ngcontent-%COMP%]{font-size:12px;font-weight:800;color:var(--muted)}input[_ngcontent-%COMP%]{padding:10px 12px;border-radius:12px;border:1px solid var(--border);font-size:14px;background:#fff}input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent)}.error[_ngcontent-%COMP%]{color:#b91c1c;background:#b91c1c14;border:1px solid rgba(185,28,28,.15);padding:10px 12px;border-radius:12px;margin-bottom:12px;font-weight:700;font-size:13px}button.primary[_ngcontent-%COMP%]{width:100%;border:none;border-radius:12px;padding:10px 12px;background:var(--accent);color:#fff;font-weight:900;cursor:pointer}.footer[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:8px;justify-content:center;font-size:13px}"]})};var F=class a{tokenKey="adminToken";userKey="adminUser";user=p(this.loadUser());loadUser(){let t=localStorage.getItem(this.userKey);return t?JSON.parse(t):null}isLoggedIn(){return!!localStorage.getItem(this.tokenKey)&&!!this.user()}getToken(){return localStorage.getItem(this.tokenKey)}async login(t,e){let n=t?.trim(),d=e?.trim();if(!n||!d)return!1;let s=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:e})}),I=await s.json().catch(()=>null);if(!s.ok){if(s.status===401)return!1;throw new Error(I?.error||`Login failed (${s.status})`)}return localStorage.setItem(this.tokenKey,I.token),localStorage.setItem(this.userKey,JSON.stringify(I.user)),this.user.set(I.user),!0}logout(){localStorage.removeItem(this.tokenKey),localStorage.removeItem(this.userKey),this.user.set(null)}static \u0275fac=function(e){return new(e||a)};static \u0275prov=T({token:a,factory:a.\u0275fac,providedIn:"root"})};function Xe(a,t){if(a&1&&(i(0,"div",13),o(1),r()),a&2){let e=g();l(),u(e.error())}}var de=class a{constructor(t,e){this.auth=t;this.router=e}username="";password="";error=p("");async submit(){this.error.set("");let t=this.username.trim();if(!t||!this.password?.trim()){this.error.set("Please enter a username and password.");return}try{if(!await this.auth.login(t,this.password)){this.error.set("Invalid username or password.");return}this.router.navigate(["/admin/animals"])}catch(e){this.error.set(e?.message||"Login failed.")}}static \u0275fac=function(e){return new(e||a)(x(F),x(N))};static \u0275cmp=f({type:a,selectors:[["app-login"]],decls:25,vars:3,consts:[[1,"login-wrap"],[1,"card"],[1,"brand"],["src","/assets/logo.png","alt","Logo",1,"logo"],[1,"title"],[1,"subtitle"],[1,"muted"],[3,"ngSubmit"],[1,"field"],["name","username","placeholder","admin",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",1,"primary"],[1,"error"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),v(3,"img",3),i(4,"div")(5,"div",4),o(6,"Grazioso Salvare"),r(),i(7,"div",5),o(8,"Admin Console"),r()()(),i(9,"h1"),o(10,"Sign in"),r(),i(11,"p",6),o(12,"Use your admin credentials to access the dashboard."),r(),i(13,"form",7),c("ngSubmit",function(){return n.submit()}),i(14,"div",8)(15,"label"),o(16,"Username"),r(),i(17,"input",9),C("ngModelChange",function(s){return _(n.username,s)||(n.username=s),s}),r()(),i(18,"div",8)(19,"label"),o(20,"Password"),r(),i(21,"input",10),C("ngModelChange",function(s){return _(n.password,s)||(n.password=s),s}),r()(),h(22,Xe,2,1,"div",11),i(23,"button",12),o(24,"Login"),r()()()()),e&2&&(l(17),b("ngModel",n.username),l(4),b("ngModel",n.password),l(),m("ngIf",n.error()))},dependencies:[y,S,G,Z,U,V,X,H,Y],styles:[".login-wrap[_ngcontent-%COMP%]{min-height:calc(100vh - 64px);display:grid;place-items:center;padding:24px 16px}.card[_ngcontent-%COMP%]{width:100%;max-width:420px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:22px}.brand[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;margin-bottom:14px}.logo[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:12px;object-fit:contain}.title[_ngcontent-%COMP%]{font-weight:800}.subtitle[_ngcontent-%COMP%]{color:var(--muted);font-size:12px;margin-top:2px}h1[_ngcontent-%COMP%]{margin:8px 0 4px;font-size:22px}.muted[_ngcontent-%COMP%]{color:var(--muted);margin:0 0 14px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}label[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:var(--muted)}input[_ngcontent-%COMP%]{padding:10px 12px;border-radius:12px;border:1px solid var(--border);font-size:14px}input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent)}.error[_ngcontent-%COMP%]{color:#b91c1c;background:#b91c1c14;border:1px solid rgba(185,28,28,.15);padding:10px 12px;border-radius:12px;margin-bottom:12px;font-weight:600;font-size:13px}button.primary[_ngcontent-%COMP%]{width:100%;padding:10px 14px;border-radius:12px;border:none;background:var(--accent);color:#fff;font-weight:700;cursor:pointer}"]})};var me=class a{constructor(t){this.adminAuth=t}headers(){let t=this.adminAuth.getToken();return M({"Content-Type":"application/json"},t?{Authorization:`Bearer ${t}`}:{})}async list(){let t=await fetch("/api/animals"),e=await t.json().catch(()=>null);if(!t.ok)throw new Error(e?.error||`List failed (${t.status})`);return e?.animals||[]}async create(t){let e=await fetch("/api/animals",{method:"POST",headers:this.headers(),body:JSON.stringify(t)}),n=await e.json().catch(()=>null);if(!e.ok)throw new Error(n?.error||`Create failed (${e.status})`);return n.animal}async remove(t){let e=await fetch(`/api/animals/${t}`,{method:"DELETE",headers:this.headers()}),n=await e.json().catch(()=>null);if(!e.ok)throw new Error(n?.error||`Delete failed (${e.status})`)}async update(t,e){let n=await fetch(`/api/animals/${t}`,{method:"PUT",headers:this.headers(),body:JSON.stringify(e)}),d=await n.json().catch(()=>null);if(!n.ok)throw new Error(d?.error||`Update failed (${n.status})`);return d.animal}static \u0275fac=function(e){return new(e||a)(B(F))};static \u0275prov=T({token:a,factory:a.\u0275fac,providedIn:"root"})};function Ze(a,t){if(a&1&&(i(0,"div",44),o(1),r()),a&2){let e=g();l(),u(e.error())}}function et(a,t){if(a&1&&(i(0,"div",45),o(1),r()),a&2){let e=g();l(),u(e.success())}}function tt(a,t){a&1&&(i(0,"span",36),o(1,"Loading\u2026"),r())}function nt(a,t){if(a&1){let e=E();i(0,"button",46),c("click",function(){O(e);let d=g();return k(d.cancelEdit())}),o(1," Cancel "),r()}}function it(a,t){if(a&1){let e=E();i(0,"div",47),c("click",function(){let d=O(e).$implicit,s=g();return k(s.select(d._id))}),i(1,"div",48),o(2),r(),i(3,"div"),o(4),r(),i(5,"div"),o(6),r(),i(7,"div",49)(8,"button",46),c("click",function(d){let s=O(e).$implicit;return g().startEdit(s._id),k(d.stopPropagation())}),o(9," Edit "),r(),i(10,"button",50),c("click",function(d){let s=O(e).$implicit;return g().remove(s._id),k(d.stopPropagation())}),o(11," Delete "),r()()()}if(a&2){let e=t.$implicit,n=g();J("selected",e._id===n.selectedId()),l(2),u(e.name),l(2),u(e.breed),l(2),u(e.status||"Available")}}var ce=class a{constructor(t,e){this.api=t;this.sanitizer=e;this.mapUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.makeOsmUrl(39.8283,-98.5795)),this.refresh()}animals=p([]);selectedId=p(null);editId=p(null);loading=p(!1);error=p("");success=p("");form=p({name:"",breed:"",sex:"",ageWeeks:"",rescueType:"",status:"Available",description:"",lat:"",lon:""});total=z(()=>this.animals().length);available=z(()=>this.animals().filter(t=>(t.status||"Available")==="Available").length);adopted=z(()=>this.animals().filter(t=>t.status==="Adoption").length);transfer=z(()=>this.animals().filter(t=>t.status==="Transfer").length);mapUrl;get isEditing(){return!!this.editId()}makeOsmUrl(t,e){return`https://www.openstreetmap.org/export/embed.html?bbox=${e-.2}%2C${t-.2}%2C${e+.2}%2C${t+.2}&layer=mapnik&marker=${t}%2C${e}`}animalToUi(t){let e=t.location?.coordinates,n=Array.isArray(e)&&e.length===2?e[0]:void 0,d=Array.isArray(e)&&e.length===2?e[1]:void 0;return P(M({},t),{lat:d,lon:n})}resetForm(){this.form.set({name:"",breed:"",sex:"",ageWeeks:"",rescueType:"",status:"Available",description:"",lat:"",lon:""})}async refresh(){this.error.set(""),this.success.set(""),this.loading.set(!0);try{let e=(await this.api.list()).map(n=>this.animalToUi(n));this.animals.set(e),!this.selectedId()&&e.length?this.select(e[0]._id):this.selectedId()&&!e.find(n=>n._id===this.selectedId())&&(this.selectedId.set(e.length?e[0]._id:null),e.length&&this.select(e[0]._id))}catch(t){this.error.set(t?.message||"Failed to load animals.")}finally{this.loading.set(!1)}}select(t){this.selectedId.set(t);let e=this.animals().find(s=>s._id===t),n=e?.lat??39.8283,d=e?.lon??-98.5795;this.mapUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.makeOsmUrl(n,d))}startEdit(t){let e=this.animals().find(n=>n._id===t);e&&(this.error.set(""),this.success.set(""),this.editId.set(t),this.select(t),this.form.set({name:e.name||"",breed:e.breed||"",sex:e.sex||"",ageWeeks:e.ageWeeks??"",rescueType:e.rescueType||"",status:e.status||"Available",description:e.description||"",lat:e.lat??"",lon:e.lon??""}))}cancelEdit(){this.editId.set(null),this.resetForm()}buildPayloadFromForm(){let t=this.form(),e=t.name.trim(),n=t.breed.trim();if(!e||!n)throw new Error("Name and breed are required.");let d={name:e,breed:n,sex:t.sex?.trim()||void 0,rescueType:t.rescueType?.trim()||void 0,status:t.status?.trim()||"Available",description:t.description?.trim()||void 0};if(String(t.ageWeeks).trim()!==""){let j=Number(t.ageWeeks);if(!Number.isFinite(j)||j<0)throw new Error("Age (weeks) must be a non-negative number.");d.ageWeeks=j}let s=String(t.lat).trim(),I=String(t.lon).trim();if(s!==""&&I!==""){let j=Number(s),ue=Number(I);if(!Number.isFinite(j)||!Number.isFinite(ue))throw new Error("Latitude/Longitude must be valid numbers.");d.location={coordinates:[ue,j]}}return d}async save(){this.error.set(""),this.success.set("");let t;try{t=this.buildPayloadFromForm()}catch(e){this.error.set(e?.message||"Invalid form.");return}try{if(this.editId()){let e=this.editId();await this.api.update(e,t),this.success.set("Animal updated."),this.editId.set(null),this.resetForm()}else{let e=await this.api.create(t);this.success.set("Animal added."),this.resetForm(),this.select(e._id)}await this.refresh()}catch(e){this.error.set(e?.message||"Save failed.")}}async remove(t){this.error.set(""),this.success.set("");let e=this.animals().find(d=>d._id===t),n=e?`${e.name} (${e.breed})`:"this animal";if(confirm(`Delete ${n}?`))try{await this.api.remove(t),this.success.set("Animal deleted."),this.editId()===t&&(this.editId.set(null),this.resetForm()),await this.refresh()}catch(d){this.error.set(d?.message||"Delete failed.")}}static \u0275fac=function(e){return new(e||a)(x(me),x(ye))};static \u0275cmp=f({type:a,selectors:[["app-animals"]],decls:132,vars:22,consts:[[1,"breadcrumb"],[1,"sep"],[1,"current"],[1,"page-header"],["class","error",4,"ngIf"],["class","success",4,"ngIf"],[1,"stats"],[1,"stat-card"],[1,"stat-label"],[1,"stat-value"],[1,"grid"],[1,"card"],[1,"card-header"],["class","count",4,"ngIf"],[1,"form"],[1,"row"],[1,"field"],["placeholder","Buddy",3,"ngModelChange","ngModel"],["placeholder","Labrador Retriever",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value",""],["value","Male"],["value","Female"],["type","number","min","0","placeholder","12",3,"ngModelChange","ngModel"],["value","Water"],["value","Mountain"],["value","Disaster"],["value","Available"],["value","Adoption"],["value","Transfer"],["rows","3","placeholder","Notes about the animal...",3,"ngModelChange","ngModel"],["placeholder","30.2672",3,"ngModelChange","ngModel"],["placeholder","-97.7431",3,"ngModelChange","ngModel"],[2,"display","flex","gap","10px","justify-content","flex-end"],["type","button",1,"primary",3,"click"],["type","button","class","ghost",3,"click",4,"ngIf"],[1,"count"],[1,"table"],[1,"row","header"],["class","row",3,"selected","click",4,"ngFor","ngForOf"],[1,"card","map-card"],[1,"map-wrap"],["loading","lazy","referrerpolicy","no-referrer-when-downgrade",1,"map",3,"src"],[1,"map-footer"],[1,"error"],[1,"success"],["type","button",1,"ghost",3,"click"],[1,"row",3,"click"],[1,"strong"],[2,"text-align","right","display","flex","gap","8px","justify-content","flex-end"],["type","button",1,"danger",3,"click"]],template:function(e,n){e&1&&(i(0,"nav",0)(1,"span"),o(2,"Admin"),r(),i(3,"span",1),o(4,"/"),r(),i(5,"span",2),o(6,"Animals"),r()(),i(7,"section",3)(8,"h1"),o(9,"Animals"),r(),i(10,"p"),o(11,"Admin dashboard for managing shelter animals (create/delete/edit) and mapping coordinates."),r()(),h(12,Ze,2,1,"div",4)(13,et,2,1,"div",5),i(14,"section",6)(15,"div",7)(16,"div",8),o(17,"Total Animals"),r(),i(18,"div",9),o(19),r()(),i(20,"div",7)(21,"div",8),o(22,"Available"),r(),i(23,"div",9),o(24),r()(),i(25,"div",7)(26,"div",8),o(27,"Adoptions"),r(),i(28,"div",9),o(29),r()(),i(30,"div",7)(31,"div",8),o(32,"Transfers"),r(),i(33,"div",9),o(34),r()()(),i(35,"section",10)(36,"section",11)(37,"div",12)(38,"h2"),o(39),r(),h(40,tt,2,0,"span",13),r(),i(41,"div",14)(42,"div",15)(43,"div",16)(44,"label"),o(45,"Name *"),r(),i(46,"input",17),C("ngModelChange",function(s){return _(n.form().name,s)||(n.form().name=s),s}),c("ngModelChange",function(s){return n.form.set(P(M({},n.form()),{name:s}))}),r()(),i(47,"div",16)(48,"label"),o(49,"Breed *"),r(),i(50,"input",18),C("ngModelChange",function(s){return _(n.form().breed,s)||(n.form().breed=s),s}),c("ngModelChange",function(s){return n.form.set(P(M({},n.form()),{breed:s}))}),r()()(),i(51,"div",15)(52,"div",16)(53,"label"),o(54,"Sex"),r(),i(55,"select",19),C("ngModelChange",function(s){return _(n.form().sex,s)||(n.form().sex=s),s}),c("ngModelChange",function(s){return n.form.set(P(M({},n.form()),{sex:s}))}),i(56,"option",20),o(57,"(none)"),r(),i(58,"option",21),o(59,"Male"),r(),i(60,"option",22),o(61,"Female"),r()()(),i(62,"div",16)(63,"label"),o(64,"Age (weeks)"),r(),i(65,"input",23),C("ngModelChange",function(s){return _(n.form().ageWeeks,s)||(n.form().ageWeeks=s),s}),c("ngModelChange",function(s){return n.form.set(P(M({},n.form()),{ageWeeks:s}))}),r()()(),i(66,"div",15)(67,"div",16)(68,"label"),o(69,"Rescue Type"),r(),i(70,"select",19),C("ngModelChange",function(s){return _(n.form().rescueType,s)||(n.form().rescueType=s),s}),c("ngModelChange",function(s){return n.form.set(P(M({},n.form()),{rescueType:s}))}),i(71,"option",20),o(72,"(none)"),r(),i(73,"option",24),o(74,"Water"),r(),i(75,"option",25),o(76,"Mountain"),r(),i(77,"option",26),o(78,"Disaster"),r()()(),i(79,"div",16)(80,"label"),o(81,"Status"),r(),i(82,"select",19),C("ngModelChange",function(s){return _(n.form().status,s)||(n.form().status=s),s}),c("ngModelChange",function(s){return n.form.set(P(M({},n.form()),{status:s}))}),i(83,"option",27),o(84,"Available"),r(),i(85,"option",28),o(86,"Adoption"),r(),i(87,"option",29),o(88,"Transfer"),r()()()(),i(89,"div",16)(90,"label"),o(91,"Description"),r(),i(92,"textarea",30),C("ngModelChange",function(s){return _(n.form().description,s)||(n.form().description=s),s}),c("ngModelChange",function(s){return n.form.set(P(M({},n.form()),{description:s}))}),r()(),i(93,"div",15)(94,"div",16)(95,"label"),o(96,"Latitude"),r(),i(97,"input",31),C("ngModelChange",function(s){return _(n.form().lat,s)||(n.form().lat=s),s}),c("ngModelChange",function(s){return n.form.set(P(M({},n.form()),{lat:s}))}),r()(),i(98,"div",16)(99,"label"),o(100,"Longitude"),r(),i(101,"input",32),C("ngModelChange",function(s){return _(n.form().lon,s)||(n.form().lon=s),s}),c("ngModelChange",function(s){return n.form.set(P(M({},n.form()),{lon:s}))}),r()()(),i(102,"div",33)(103,"button",34),c("click",function(){return n.save()}),o(104),r(),h(105,nt,2,0,"button",35),r()(),v(106,"hr"),i(107,"div",12)(108,"h2"),o(109,"Results"),r(),i(110,"span",36),o(111),r()(),i(112,"div",37)(113,"div",38)(114,"div"),o(115,"Name"),r(),i(116,"div"),o(117,"Breed"),r(),i(118,"div"),o(119,"Status"),r(),v(120,"div"),r(),h(121,it,12,5,"div",39),r()(),i(122,"section",40)(123,"div",12)(124,"h2"),o(125,"Map"),r(),i(126,"span",36),o(127,"OpenStreetMap"),r()(),i(128,"div",41),v(129,"iframe",42),r(),i(130,"div",43),o(131," Click an animal to focus the map (uses location.coordinates when present). "),r()()()),e&2&&(l(12),m("ngIf",n.error()),l(),m("ngIf",n.success()),l(6),u(n.total()),l(5),u(n.available()),l(5),u(n.adopted()),l(5),u(n.transfer()),l(5),u(n.editId()?"Edit Animal":"Add Animal"),l(),m("ngIf",n.loading()),l(6),b("ngModel",n.form().name),l(4),b("ngModel",n.form().breed),l(5),b("ngModel",n.form().sex),l(10),b("ngModel",n.form().ageWeeks),l(5),b("ngModel",n.form().rescueType),l(12),b("ngModel",n.form().status),l(10),b("ngModel",n.form().description),l(5),b("ngModel",n.form().lat),l(4),b("ngModel",n.form().lon),l(3),W(" ",n.editId()?"Save Changes":"Add Animal"," "),l(),m("ngIf",n.editId()),l(6),W("",n.total()," animals"),l(10),m("ngForOf",n.animals()),l(8),m("src",n.mapUrl,xe))},dependencies:[y,$,S,G,Pe,Oe,U,we,Se,V,ke,H],styles:['.page-header[_ngcontent-%COMP%]{margin-bottom:18px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:900}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0 0;color:var(--muted)}.stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px;margin-bottom:18px}.stat-card[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}.stat-label[_ngcontent-%COMP%]{color:var(--muted);font-weight:700;font-size:12px}.stat-value[_ngcontent-%COMP%]{margin-top:6px;font-size:28px;font-weight:900;letter-spacing:-.5px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.6fr 1fr;gap:16px}.card[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px}.count[_ngcontent-%COMP%]{color:var(--muted);font-size:13px}.table[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:14px;overflow:hidden}.row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1.2fr .9fr;gap:12px;padding:12px;border-bottom:1px solid var(--border);font-size:14px}.row[_ngcontent-%COMP%]:last-child{border-bottom:none}.row.header[_ngcontent-%COMP%]{background:#11182708;font-weight:900;color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.5px}.strong[_ngcontent-%COMP%]{font-weight:800}.map-wrap[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:14px;overflow:hidden;height:360px}.map[_ngcontent-%COMP%]{width:100%;height:100%;border:0}.map-footer[_ngcontent-%COMP%]{margin-top:10px;color:var(--muted);font-size:12px}.stat-card[_ngcontent-%COMP%]{position:relative;overflow:hidden}.stat-card[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:auto 0 0;height:3px;background:var(--accent);opacity:.25}.grid[_ngcontent-%COMP%]{align-items:start}.card[_ngcontent-%COMP%]{transition:box-shadow .15s ease,transform .15s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 34px #11182714}.row[_ngcontent-%COMP%]:not(.header){cursor:pointer}.row[_ngcontent-%COMP%]:not(.header):hover{background:#2563eb0d}.breadcrumb[_ngcontent-%COMP%]{font-size:12px;color:var(--muted);margin-bottom:10px}.breadcrumb[_ngcontent-%COMP%]   .sep[_ngcontent-%COMP%]{margin:0 6px}.breadcrumb[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{font-weight:700;color:var(--text)}.error[_ngcontent-%COMP%]{margin:10px 0 14px;padding:12px 14px;border-radius:14px;border:1px solid rgba(239,68,68,.35);background:#ef444414;color:#b91c1c;font-weight:700;font-size:13px}.success[_ngcontent-%COMP%]{margin:10px 0 14px;padding:12px 14px;border-radius:14px;border:1px solid rgba(34,197,94,.35);background:#22c55e14;color:#15803d;font-weight:700;font-size:13px}.form[_ngcontent-%COMP%]{display:grid;gap:12px;margin-bottom:8px}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-size:12px;color:var(--muted);font-weight:800}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:1px solid var(--border);border-radius:14px;padding:10px 12px;background:var(--surface);color:var(--text);font-size:14px;outline:none}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#2563eb59;box-shadow:0 0 0 4px #2563eb1a}.row.selected[_ngcontent-%COMP%]{background:#2563eb14}.row[_ngcontent-%COMP%]{grid-template-columns:1fr 1.2fr .9fr .6fr}button.primary[_ngcontent-%COMP%]{border:0;border-radius:14px;padding:10px 14px;background:var(--accent);color:#fff;font-weight:900;cursor:pointer}button.primary[_ngcontent-%COMP%]:hover{filter:brightness(.95)}button.danger[_ngcontent-%COMP%]{border:1px solid rgba(239,68,68,.35);border-radius:12px;padding:8px 10px;background:#ef444414;color:#b91c1c;font-weight:900;cursor:pointer}button.danger[_ngcontent-%COMP%]:hover{background:#ef44441f}button.ghost[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:12px;padding:8px 10px;background:transparent;color:var(--text);font-weight:900;cursor:pointer}button.ghost[_ngcontent-%COMP%]:hover{background:#1118270a}']})};var Te=()=>{let a=ge(F),t=ge(N);return a.isLoggedIn()?!0:t.parseUrl("/admin/login")};var Ne=[{path:"",component:ne,children:[{path:"",component:ae},{path:"browse",component:se},{path:"customer/login",component:le},{path:"customer/register",loadComponent:()=>import("./chunk-ELKHRL46.js").then(a=>a.CustomerRegister)}]},{path:"admin",component:oe,children:[{path:"login",component:de},{path:"animals",component:ce,canActivate:[Te]},{path:"",redirectTo:"animals",pathMatch:"full"}]},{path:"**",redirectTo:""}];var De={providers:[fe(),Me(Ne),Ce()]};var pe=class a{title=p("cs499-ui");static \u0275fac=function(e){return new(e||a)};static \u0275cmp=f({type:a,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"page"],[1,"page-container"]],template:function(e,n){e&1&&(i(0,"main",0)(1,"div",1),v(2,"router-outlet"),r()())},dependencies:[R,y],styles:[".page[_ngcontent-%COMP%]{background:var(--bg);min-height:calc(100vh - 64px);padding:24px 16px}.page-container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}"]})};_e(pe,De).catch(a=>console.error(a));
